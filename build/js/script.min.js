const body=document.querySelector("body"),calculatorForm=body.querySelector(".calculator__form"),sliderElement=calculatorForm.querySelector(".calculator__slider"),valueElementRange=calculatorForm.querySelector(".calculator__input--slider"),valueElementPay=calculatorForm.querySelector(".calculator__input--pay"),valueMonthlyPay=calculatorForm.querySelector(".calculator__input--pay-top"),valueYearlyPay=calculatorForm.querySelector(".calculator__input--pay-right"),navButton=body.querySelector(".header__button-nav"),modalNav=body.querySelector(".header__nav-wrapper"),navClose=modalNav.querySelector(".header__nav-close"),topButton=modalNav.querySelector(".header__top-button"),headerNavLinks=modalNav.querySelectorAll(".header__nav-item-link"),options=body.querySelector(".options__wrapper"),optionsNavs=options.querySelectorAll(".options__nav-item"),optionsCarts=options.querySelectorAll(".options__cart"),optionsMenuArrows=options.querySelectorAll(".options__cart-open"),optionsMenus=options.querySelectorAll(".options__menu"),optionsTrustMenuItems=options.querySelectorAll(".options__menu-item--trust"),optionsSpecificMenuItems=options.querySelectorAll(".options__menu-item--specific"),form=body.querySelector(".footer__form"),fieldName=form.querySelector(".footer__form-input--name"),fieldTel=form.querySelector(".footer__form-input--tel"),dataSabmitUrl="https://echo.htmlacademy.ru/",success=body.querySelector("#success").content.querySelector(".success"),errorSuccess=body.querySelector("#error-loading").content.querySelector(".error-loading"),successElement=success.cloneNode(!0),errorElement=errorSuccess.cloneNode(!0),onAddModalNav=()=>{modalNav.classList.add("active")},onRemoveModalNav=()=>{modalNav.classList.remove("active")},checkWidth=()=>{window.innerWidth>=1440&&onRemoveModalNav()};for(let e of headerNavLinks)e.addEventListener("click",onRemoveModalNav);navButton.addEventListener("click",onAddModalNav),navClose.addEventListener("click",onRemoveModalNav),topButton.addEventListener("click",onRemoveModalNav),window.addEventListener("resize",checkWidth);const switchSlides=(e,o)=>{for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{for(let t=0;t<e.length;t++)e[t].classList.remove("active"),o[t].classList.remove("active");e[t].classList.add("active"),o[t].classList.add("active")}))},onToggleMenuItem=(e,o,t)=>{for(let n=0;n<e.length;n++)e[n].addEventListener("click",(r=>{r.preventDefault();for(let o=0;o<e.length;o++)e[o].classList.remove("active");e[n].classList.add("active");for(let e=0;e<o.length;e++)o[e].classList.remove("active"),t[e].classList.remove("show")}))};switchSlides(optionsNavs,optionsCarts);for(let e=0;e<optionsMenuArrows.length;e++)optionsMenuArrows[e].addEventListener("click",(()=>{optionsMenuArrows[e].classList.toggle("active"),optionsMenus[e].classList.toggle("show")}));onToggleMenuItem(optionsTrustMenuItems,optionsMenuArrows,optionsMenus),onToggleMenuItem(optionsSpecificMenuItems,optionsMenuArrows,optionsMenus),valueElementRange.value=205e4,noUiSlider.create(sliderElement,{range:{min:1e5,max:5e6},start:205e4,step:5e4,connect:"lower"}),sliderElement.noUiSlider.on("update",((e,o,t)=>{valueElementRange.value=Math.round(t[o]);const n=Number(valueElementRange.value);n<249e3?(valueElementPay.value=12,valueMonthlyPay.value=Math.round(12*n/100/12),valueYearlyPay.value=12*n/100):n<449e3?(valueElementPay.value=14,valueMonthlyPay.value=Math.round(14*n/100/12),valueYearlyPay.value=14*n/100):n<1e6?(valueElementPay.value=16,valueMonthlyPay.value=Math.round(16*n/100/12),valueYearlyPay.value=16*n/100):(valueElementPay.value=18,valueMonthlyPay.value=Math.round(18*n/100/12),valueYearlyPay.value=18*n/100)})),new Swiper(".swiper-container",{loop:!0,navigation:{nextEl:".reviews__control-button--next",prevEl:".reviews__control-button--prev"},breakpoints:{320:{slidesPerView:1.1},768:{slidesPerView:1.5},1300:{slidesPerView:3},1440:{slidesPerView:3,spaceBetween:35}}});const isEscEvent=e=>e.key===keys.escape||e.key===keys.esc,onSuccessRemove=()=>{successElement.remove(),document.removeEventListener("click",onSuccessRemove)},onElementEscRemove=()=>{isEscEvent&&(onSuccessRemove(),document.removeEventListener("keydown",onElementEscRemove))},alertSuccess=()=>{body.append(successElement),document.addEventListener("keydown",onElementEscRemove),document.addEventListener("click",onSuccessRemove)},resetForm=()=>{fieldName.value="",fieldTel.value=""},alertForm=()=>{body.append(successElement),document.addEventListener("keydown",onElementEscRemove),document.addEventListener("click",onSuccessRemove),fieldName.value="",fieldTel.value=""},onErrorLoadingRemove=()=>{errorElement.remove(),document.removeEventListener("click",onErrorLoadingRemove)},onEscRemoveRemove=()=>{isEscEvent&&(errorElement.remove(),document.removeEventListener("keydown",onEscRemoveRemove))},alertErrorloading=()=>{body.append(errorElement),document.addEventListener("keydown",onEscRemoveRemove),document.addEventListener("click",onErrorLoadingRemove)},sendData=(e,o,t,n)=>{fetch(e,{method:"POST",body:o}).then((e=>{e.ok?t():n()})).catch((()=>{n()}))},onFormSend=e=>{e.preventDefault();const o=new FormData(e.target);var t,n;t=alertForm,n=alertErrorloading,fetch(dataSabmitUrl,{method:"POST",body:o}).then((e=>{e.ok?t():n()})).catch((()=>{n()}))};form.addEventListener("submit",onFormSend);